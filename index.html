<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ASCII Eye</title>
<style>
  body {
    background: black;
    color: white;
    font-family: monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .portfolio {
    position: absolute;
    bottom: 125px;
    font-size: 16px;
    color: white;
    font-family: monospace;
    position: center;
  }

  pre {
    line-height: 80%;
    font-size: 12px;
  }
</style>
</head>
<body>


    <div>
        <pre id="asciiSphere"></pre>
    </div>

    <h1 class="portfolio">Portfolio</h1>



<script>
const asciiEl = document.getElementById('asciiSphere');
const width = 50;
const height = 25;
const chars = ['.', '-', '+', '*', 'O', '@'];

let mouse = { x: 0, y: 0 };
let pupil = { x: 0, y: 0 };

window.addEventListener('mousemove', (e) => {
    mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
    mouse.y = ((e.clientY / window.innerHeight) * 2 - 1);
});

function renderEye() {
    let output = '';

    for (let y = -height/2; y < height/2; y++) {
        for (let x = -width/2; x < width/2; x++) {
            const nx = x / (width/2);
            const ny = y / (height/2);
            const r2 = nx*nx + ny*ny;

            if (r2 <= 1) {
                const z = Math.sqrt(1 - r2);
                const idx = Math.floor(z * (chars.length-1));
                let char = chars[Math.max(0, Math.min(chars.length-1, idx))];
                let color = 'white';

                // Pupil movement
                const pupilRadius = 0.4;            
                const maxPupilDist = 0.6 - pupilRadius; // max distance from eye center

                // Target position scaled by maxPupilDist
                let targetX = mouse.x * maxPupilDist;
                let targetY = mouse.y * maxPupilDist;

                // Smooth pupil movement
                pupil.x += (targetX - pupil.x) * 0.1;
                pupil.y += (targetY - pupil.y) * 0.1;

                // Limits pupil to circular area inside eye
                const pupilDist = Math.sqrt(pupil.x*pupil.x + pupil.y*pupil.y);
                if (pupilDist > maxPupilDist) {
                    pupil.x = (pupil.x / pupilDist) * maxPupilDist;
                    pupil.y = (pupil.y / pupilDist) * maxPupilDist;
                }

                // Actually draw pupil
                const dx = nx - pupil.x;
                const dy = ny - pupil.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                
                // Dynamic shading so its not just a black blob
                if (dist < pupilRadius) {
                    if (dist < pupilRadius * 0.4) color = 'black';
                    else if (dist < pupilRadius * 0.7) color = '#222';
                    else color = '#555';
                    char = '@';
                }

                output += `<span style="color:${color}">${char}</span>`;
            } else {
                output += ' ';
            }
        }
        output += '\n';
    }

    asciiEl.innerHTML = output;
}

function animate() {
    renderEye();
    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
